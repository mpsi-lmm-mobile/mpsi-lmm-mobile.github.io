<link rel="manifest" href="/wpa.json">

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then(reg => console.log('Service Worker enregistré : ', reg.scope))
      .catch(err => console.error('Erreur SW : ', err));
  });
}
</script>

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-orga').load('https://mpsi-lmm-mobile.github.io/menus/onglet-orga.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-maths').load('https://mpsi-lmm-mobile.github.io/menus/onglet-maths.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-physique').load('https://mpsi-lmm-mobile.github.io/menus/onglet-physique.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-info').load('https://mpsi-lmm-mobile.github.io/menus/onglet-actif-info.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-sii').load('https://mpsi-lmm-mobile.github.io/menus/onglet-sii.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-tipe').load('https://mpsi-lmm-mobile.github.io/menus/onglet-tipe.html');
      });
</script> 

<script type="text/javascript">
                $(document).ready(function(){
           $('#target-onglet-langues').load('https://mpsi-lmm-mobile.github.io/menus/onglet-langues.html');
      });
</script> 


<script data-goatcounter="https://lmmmobileg.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>



    <button class="menu-btn" id="menuButton">☰</button>


<div class="modal-overlay" id="modalOverlay"></div>

<div class="modal" id="modal">
    <div class="modal-header">
        <h2><a href='https://mpsi-lmm-mobile.github.io/'>Menu</a></h2>
<font size="3">Non officiel</font>
        <button class="close-btn" id="closeButton">×</button>
    </div>
    <div class="modal-content">
        <ul id="menu">
<li><a href='https://mpsilamartin.github.io'>Site officiel</a>
</li>
            <li id="target-onglet-orga"></li>   
        <li id="target-onglet-maths"></li>   
        <li id="target-onglet-physique"></li>   
        <li id="target-onglet-info"></li>    
        <li id="target-onglet-sii"></li>   
        <li id="target-onglet-tipe"></li>  
   <li id="target-onglet-langues"></li>  
        </ul>
    </div>
</div>


<script>
  /**  document.addEventListener('DOMContentLoaded', function() {
        const menuButton = document.getElementById('menuButton');
        const closeButton = document.getElementById('closeButton');
        const modalOverlay = document.getElementById('modalOverlay');
        const modal = document.getElementById('modal');

        // Ouvrir le modal
        menuButton.addEventListener('click', function() {
            modal.style.display = 'block';
            modalOverlay.style.display = 'block';
            setTimeout(function() {
                modal.classList.add('open');
            }, 10);
        });

        // Fermer le modal
        function closeModal() {
            modal.classList.remove('open');
            setTimeout(function() {
                modal.style.display = 'none';
                modalOverlay.style.display = 'none';
            }, 300);
        }

        closeButton.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', closeModal);

        // Gérer les sous-menus
        const menuItems = document.querySelectorAll('#menu > li');
        menuItems.forEach(item => {
            if (item.querySelector('ul')) {
                item.querySelector('a').addEventListener('click', function(e) {
                    e.preventDefault();
                    item.classList.toggle('active');
                });
            }
        });

        // Fermer le modal en appuyant sur Echap
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                closeModal();
            }
        });
    });*/

        // Ajout des styles CSS via JavaScript
        document.head.innerHTML += `
        <style>
            /* Styles de base */
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 20px;
            }
            
            .menu-btn {
                font-size: 24px;
                padding: 10px 15px;
                cursor: pointer;
                background: #f0f0f0;
                border: 1px solid #ccc;
                border-radius: 4px;
            }
            
            /* Overlay du modal */
            .modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: none;
                z-index: 1000;
            }
            
            /* Modal */
            .modal {
                position: fixed;
                top: 0;
                left: -300px;
                width: 280px;
                height: 100%;
                background: white;
                box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
                transition: left 0.3s ease;
                z-index: 1001;
                overflow-y: auto;
            }
            
            .modal.active {
                left: 0;
            }
            
            .modal-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid #eee;
                background: #f8f8f8;
            }
            
            .modal-header h2 {
                margin: 0;
                font-size: 1.5rem;
            }
            
            .close-btn {
                background: none;
                border: none;
                font-size: 24px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .modal-content {
                padding: 15px;
            }
            
            .modal-content ul {
                list-style: none;
                padding: 0;
                margin: 0;
            }
            
            .modal-content li {
                margin-bottom: 10px;
            }
            
            .modal-content a {
                text-decoration: none;
                color: #333;
                display: block;
                padding: 8px 5px;
                border-radius: 4px;
            }
            
            .modal-content a:hover {
                background: #f0f0f0;
            }
            
            .modal-content ul ul {
                padding-left: 15px;
            }
        </style>
        `;

        // Récupération des éléments du DOM
        const menuButton = document.getElementById('menuButton');
        const modalOverlay = document.getElementById('modalOverlay');
        const modal = document.getElementById('modal');
        const closeButton = document.getElementById('closeButton');

        // Fonction pour ouvrir le modal
        function openModal() {
            modal.classList.add('active');
            modalOverlay.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Empêcher le défilement
        }

        // Fonction pour fermer le modal
        function closeModal() {
            modal.classList.remove('active');
            setTimeout(() => {
                modalOverlay.style.display = 'none';
            }, 300); // Attendre la fin de l'animation
            document.body.style.overflow = ''; // Rétablir le défilement
        }

        // Ajout des écouteurs d'événements
        menuButton.addEventListener('click', openModal);
        closeButton.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', closeModal);

document.addEventListener('mousemove', function(event) {
    const edgeThreshold = 5; // Le nombre de pixels à partir du bord que l'on considère comme le bord.
    
    if (event.clientX < edgeThreshold) {
        console.log('La souris est sur le bord gauche de l\'écran !');
        // Placez ici le code à exécuter lorsque la souris est au bord.
openModal();
    }
});



/*
let startX = 0;
let endX = 0;
const element = document.getElementById('myElement'); // Remplacez par votre sélecteur

element.addEventListener('touchstart', (e) => {
  startX = e.touches[0].clientX;
});

element.addEventListener('touchend', (e) => {
  endX = e.changedTouches[0].clientX;
  
  // Définit une distance minimale pour éviter les clics accidentels
  const minSwipeDistance = 50; 

  if (startX - endX > minSwipeDistance) {
    console.log('Balayage vers la gauche détecté !');
openModal();
    // Mettez ici le code à exécuter, par exemple une animation ou un changement de page
  }
});*/



        // Fermer le modal avec la touche Échap
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });
    </script>

</script>

